zabbix_export:
  version: '7.0'
  template_groups:
    - uuid: e960332b3f6c46a1956486d4f3f99fce
      name: 'Templates/Server hardware'
  templates:
    - uuid: 3e25d3c035d841ec967073ddd5f87d90
      template: 'Dell iDRAC by SNMP Enhanced'
      name: 'Dell iDRAC by SNMP Enhanced'
      description: |
        Template Server iDRAC
        
        MIBs used:
        HOST-RESOURCES-MIB
        IDRAC-MIB-SMIv2
        SNMPv2-MIB
        
        Generated by official Zabbix template tool "Templator"
      groups:
        - name: 'Templates/Server hardware'
      items:
        - uuid: 9e5853853de9485bb29222f303e81697
          name: 'ICMP ping'
          type: SIMPLE
          key: icmpping
          valuemap:
            name: 'Service state'
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: d5cbd20c4daa41a095f7ebfed0a9a8c0
              expression: 'max(/Dell iDRAC by SNMP Enhanced/icmpping,#3)=0'
              name: 'Unavailable by ICMP ping'
              priority: HIGH
              description: 'Last three attempts returned timeout.  Please check device connectivity.'
              tags:
                - tag: scope
                  value: availability
        - uuid: 15fffe5a30db4606964e58b59bc4890d
          name: 'ICMP loss'
          type: SIMPLE
          key: icmppingloss
          value_type: FLOAT
          units: '%'
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: 5d2a6d65c3cf4bbb8e08c0c71044489a
              expression: 'min(/Dell iDRAC by SNMP Enhanced/icmppingloss,5m)>{$ICMP_LOSS_WARN} and min(/Dell iDRAC by SNMP Enhanced/icmppingloss,5m)<100'
              name: 'High ICMP ping loss'
              opdata: 'Loss: {ITEM.LASTVALUE1}'
              priority: WARNING
              dependencies:
                - name: 'Unavailable by ICMP ping'
                  expression: 'max(/Dell iDRAC by SNMP Enhanced/icmpping,#3)=0'
              tags:
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
        - uuid: 76a5aa30e5bb42e4b6d8397c281faafd
          name: 'ICMP response time'
          type: SIMPLE
          key: icmppingsec
          value_type: FLOAT
          units: s
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: bc464ad64f4748dcbfc7670aa1d295ac
              expression: 'avg(/Dell iDRAC by SNMP Enhanced/icmppingsec,5m)>{$ICMP_RESPONSE_TIME_WARN}'
              name: 'High ICMP ping response time'
              opdata: 'Value: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'Average ICMP response time is too high.'
              dependencies:
                - name: 'High ICMP ping loss'
                  expression: 'min(/Dell iDRAC by SNMP Enhanced/icmppingloss,5m)>{$ICMP_LOSS_WARN} and min(/Dell iDRAC by SNMP Enhanced/icmppingloss,5m)<100'
                - name: 'Unavailable by ICMP ping'
                  expression: 'max(/Dell iDRAC by SNMP Enhanced/icmpping,#3)=0'
              tags:
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
        - uuid: 07fdaf19b17345a7ae6af45c2f04c6a9
          name: 'Power supply reading'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.674.10892.5.4.600.30.1.6.1.3
          key: sensor.psu.reading
          delay: 10m
          history: 180d
          units: W
          tags:
            - tag: component
              value: power
        - uuid: ec5a78d576af47fea1862736c25c1b97
          name: 'SNMP traps (fallback)'
          type: SNMP_TRAP
          key: snmptrap.fallback
          delay: '0'
          value_type: LOG
          trends: '0'
          description: 'The item is used to collect all SNMP traps unmatched by other snmptrap items'
          logtimefmt: 'hh:mm:sszyyyy/MM/dd'
          tags:
            - tag: component
              value: network
        - uuid: 2e3b8a8c66934b11b8af9c7dd4f437da
          name: 'System contact details'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.4.0
          key: 'system.contact[sysContact.0]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            The textual identification of the contact person for this managed node, together with information on how to contact this person.  If no contact information is known, the value is the zero-length string.
          inventory_link: CONTACT
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: 3cd16821ee964e4e9d9ba39591409053
          name: 'System description'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.1.0
          key: 'system.descr[sysDescr.0]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            A textual description of the entity. This value should
            include the full name and version identification of the system's hardware type, software operating-system, and
            networking software.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: 9ad7c9f24a0542b0bc8c335aafde7c11
          name: 'Firmware version'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.674.10892.5.1.1.8.0
          key: system.hw.firmware
          delay: 1h
          value_type: CHAR
          trends: '0'
          description: |
            MIB: IDRAC-MIB-SMIv2
            This attribute defines the firmware version of a remote access card.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: bdd3d2b026f04523930076d96984996f
              expression: 'last(/Dell iDRAC by SNMP Enhanced/system.hw.firmware,#1)<>last(/Dell iDRAC by SNMP Enhanced/system.hw.firmware,#2) and length(last(/Dell iDRAC by SNMP Enhanced/system.hw.firmware))>0'
              name: 'Firmware has changed'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: INFO
              description: 'Firmware version has changed. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
        - uuid: 3b98a0f3d34940bfa21d528dc544f4b7
          name: 'Hardware model name'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.674.10892.5.1.3.12.0
          key: system.hw.model
          delay: 1h
          value_type: CHAR
          trends: '0'
          description: |
            MIB: IDRAC-MIB-SMIv2
            This attribute defines the model name of the system.
          inventory_link: MODEL
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: system
        - uuid: 23024bed2e174d1da3f14609f89eca0d
          name: 'Hardware serial number'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.674.10892.5.1.3.2.0
          key: system.hw.serialnumber
          delay: 1h
          value_type: CHAR
          trends: '0'
          description: |
            MIB: IDRAC-MIB-SMIv2
            This attribute defines the service tag of the system.
          inventory_link: SERIALNO_A
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: 0425e251fd0448a0b0c02bb1ac8f8d67
              expression: 'last(/Dell iDRAC by SNMP Enhanced/system.hw.serialnumber,#1)<>last(/Dell iDRAC by SNMP Enhanced/system.hw.serialnumber,#2) and length(last(/Dell iDRAC by SNMP Enhanced/system.hw.serialnumber))>0'
              name: 'Device has been replaced'
              event_name: 'Device has been replaced (new serial number received)'
              priority: INFO
              description: 'Device serial number has changed. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
        - uuid: 8af90cb186144885a492058231873c04
          name: 'Uptime (hardware)'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.25.1.1.0
          key: 'system.hw.uptime[hrSystemUptime.0]'
          delay: 30s
          trends: '0'
          units: uptime
          description: |
            MIB: HOST-RESOURCES-MIB
            The amount of time since this host was last initialized. Note that this is different from sysUpTime in the SNMPv2-MIB [RFC1907] because sysUpTime is the uptime of the network management portion of the system.
          preprocessing:
            - type: CHECK_NOT_SUPPORTED
              parameters:
                - '-1'
              error_handler: CUSTOM_VALUE
              error_handler_params: '0'
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: system
        - uuid: fdffe5b76f21443f935fa0dd18909a4b
          name: 'System location'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.6.0
          key: 'system.location[sysLocation.0]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            Physical location of the node (e.g., `equipment room`, `3rd floor`). If not provided, the value is a zero-length string.
          inventory_link: LOCATION
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: 5bda7776981b4fda809552b5d7e9fcd4
          name: 'System name'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.5.0
          key: system.name
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            An administratively-assigned name for this managed node.By convention, this is the node's fully-qualified domain name.  If the name is unknown, the value is the zero-length string.
          inventory_link: NAME
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: 5439fca59c034305860f9f176a063796
              expression: 'last(/Dell iDRAC by SNMP Enhanced/system.name,#1)<>last(/Dell iDRAC by SNMP Enhanced/system.name,#2) and length(last(/Dell iDRAC by SNMP Enhanced/system.name))>0'
              name: 'System name has changed'
              event_name: 'System name has changed (new name: {ITEM.VALUE})'
              priority: INFO
              description: 'The name of the system has changed. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              tags:
                - tag: scope
                  value: notice
                - tag: scope
                  value: security
        - uuid: fd729476ce1c43478d518a8069c93ffe
          name: 'Uptime (network)'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.3.0
          key: 'system.net.uptime[sysUpTime.0]'
          delay: 30s
          trends: '0'
          units: uptime
          description: |
            MIB: SNMPv2-MIB
            Time (in hundredths of a second) since the network management portion of the system was last re-initialized.
          preprocessing:
            - type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            - tag: component
              value: system
        - uuid: 5240c3b6f779413eaa6373c338977b44
          name: 'System object ID'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.2.1.1.2.0
          key: 'system.objectid[sysObjectID.0]'
          delay: 15m
          value_type: CHAR
          trends: '0'
          description: |
            MIB: SNMPv2-MIB
            The vendor's authoritative identification of the network management subsystem contained in the entity.  This value is allocated within the SMI enterprises subtree (1.3.6.1.4.1) and provides an easy and unambiguous means for determining`what kind of box' is being managed.  For example, if vendor`Flintstones, Inc.' was assigned the subtree1.3.6.1.4.1.4242, it could assign the identifier 1.3.6.1.4.1.4242.1.1 to its `Fred Router'.
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 12h
          tags:
            - tag: component
              value: system
        - uuid: f5bd62be66d34553a087a74be5edfc34
          name: 'Overall system health status'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.674.10892.5.2.1.0
          key: 'system.status[globalSystemStatus.0]'
          delay: 30s
          trends: '0'
          description: |
            MIB: IDRAC-MIB-SMIv2
            This attribute defines the overall rollup status of all components in the system being monitored by the remote access card. Includes system, storage, IO devices, iDRAC, CPU, memory, etc.
          valuemap:
            name: 'IDRAC-MIB-SMIv2::ObjectStatusEnum'
          tags:
            - tag: component
              value: system
          triggers:
            - uuid: e92fc17ac12f4cc5975327d38e465543
              expression: 'count(/Dell iDRAC by SNMP Enhanced/system.status[globalSystemStatus.0],#1,"eq","{$HEALTH_DISASTER_STATUS}")=1'
              name: 'System is in unrecoverable state!'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: HIGH
              description: 'Please check the device for faults'
              tags:
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
            - uuid: a7a9f6ee00704cca90736bff0e44f0fa
              expression: 'count(/Dell iDRAC by SNMP Enhanced/system.status[globalSystemStatus.0],#1,"eq","{$HEALTH_CRIT_STATUS}")=1'
              name: 'System status is in critical state'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: HIGH
              description: 'Please check the device for errors'
              dependencies:
                - name: 'System is in unrecoverable state!'
                  expression: 'count(/Dell iDRAC by SNMP Enhanced/system.status[globalSystemStatus.0],#1,"eq","{$HEALTH_DISASTER_STATUS}")=1'
              tags:
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
            - uuid: 2b7c39835fcb4feb9213a58bb74ef1b0
              expression: 'count(/Dell iDRAC by SNMP Enhanced/system.status[globalSystemStatus.0],#1,"eq","{$HEALTH_WARN_STATUS}")=1'
              name: 'System status is in warning state'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'Please check the device for warnings'
              dependencies:
                - name: 'System is in unrecoverable state!'
                  expression: 'count(/Dell iDRAC by SNMP Enhanced/system.status[globalSystemStatus.0],#1,"eq","{$HEALTH_DISASTER_STATUS}")=1'
                - name: 'System status is in critical state'
                  expression: 'count(/Dell iDRAC by SNMP Enhanced/system.status[globalSystemStatus.0],#1,"eq","{$HEALTH_CRIT_STATUS}")=1'
              tags:
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
        - uuid: 6c9a7e137d044dce945281b18f0edede
          name: 'Operating system'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.674.10892.5.1.3.6.0
          key: 'system.sw.os[systemOSName]'
          delay: 1h
          value_type: CHAR
          trends: '0'
          description: |
            MIB: IDRAC-MIB-SMIv2
            This attribute defines the name of the operating system that the hostis running.
          inventory_link: OS
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: os
          triggers:
            - uuid: 6c6cf67b774f4932a8e1b7754eb95314
              expression: 'last(/Dell iDRAC by SNMP Enhanced/system.sw.os[systemOSName],#1)<>last(/Dell iDRAC by SNMP Enhanced/system.sw.os[systemOSName],#2) and length(last(/Dell iDRAC by SNMP Enhanced/system.sw.os[systemOSName]))>0'
              name: 'Operating system description has changed'
              priority: INFO
              description: 'Operating system description has changed. Possible reasons that system has been updated or replaced. Acknowledge to close the problem manually.'
              manual_close: 'YES'
              dependencies:
                - name: 'System name has changed'
                  expression: 'last(/Dell iDRAC by SNMP Enhanced/system.name,#1)<>last(/Dell iDRAC by SNMP Enhanced/system.name,#2) and length(last(/Dell iDRAC by SNMP Enhanced/system.name))>0'
              tags:
                - tag: scope
                  value: notice
        - uuid: 94f0620645f541559e9bfb9d55f8b7a4
          name: 'SNMP agent availability'
          type: INTERNAL
          key: 'zabbix[host,snmp,available]'
          description: |
            Availability of SNMP checks on the host. The value of this item corresponds to availability icons in the host list.
            Possible values:
            0 - not available
            1 - available
            2 - unknown
          valuemap:
            name: zabbix.host.available
          tags:
            - tag: component
              value: health
            - tag: component
              value: network
          triggers:
            - uuid: af225818991940a0898a50b5b58af68c
              expression: 'max(/Dell iDRAC by SNMP Enhanced/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0'
              name: 'No SNMP data collection'
              opdata: 'Current state: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'SNMP is not available for polling. Please check device connectivity and SNMP settings.'
              dependencies:
                - name: 'Unavailable by ICMP ping'
                  expression: 'max(/Dell iDRAC by SNMP Enhanced/icmpping,#3)=0'
              tags:
                - tag: scope
                  value: availability
      discovery_rules:
        - uuid: 468ade824b87479795602253c7cabae8
          name: 'Array Controller Cache Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#BATTERY_NUM},1.3.6.1.4.1.674.10892.5.5.1.20.130.15.1.1]'
          key: array.cache.discovery
          delay: 1h
          description: 'IDRAC-MIB-SMIv2::batteryTable'
          item_prototypes:
            - uuid: b4c38c5067f448b0b08a26a3f66501d7
              name: 'Battery {#BATTERY_NUM}: Disk array cache controller battery status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.130.15.1.4.{#SNMPINDEX}'
              key: 'system.hw.diskarray.cache.battery.status[batteryState.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                Current state of battery.
                Possible values:
                1: The current state could not be determined.
                2: The battery is operating normally.
                3: The battery has failed and needs to be replaced.
                4: The battery temperature is high or charge level is depleting.
                5: The battery is missing or not detected.
                6: The battery is undergoing the re-charge phase.
                7: The battery voltage or charge level is below the threshold.
              valuemap:
                name: 'IDRAC-MIB-SMIv2::batteryState'
              tags:
                - tag: component
                  value: array
                - tag: component
                  value: disk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 59fecaf1ccc2492097060dfaa6bd50f9
                  expression: 'count(/Dell iDRAC by SNMP Enhanced/system.hw.diskarray.cache.battery.status[batteryState.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CACHE_BATTERY_CRIT_STATUS}")=1'
                  name: 'Battery {#BATTERY_NUM}: Disk array cache controller battery is in critical state!'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the device for faults'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: 1037159f561649789c94d1976fc7b84c
                  expression: 'count(/Dell iDRAC by SNMP Enhanced/system.hw.diskarray.cache.battery.status[batteryState.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CACHE_BATTERY_WARN_STATUS}")=1'
                  name: 'Battery {#BATTERY_NUM}: Disk array cache controller battery is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the device for faults'
                  dependencies:
                    - name: 'Battery {#BATTERY_NUM}: Disk array cache controller battery is in critical state!'
                      expression: 'count(/Dell iDRAC by SNMP Enhanced/system.hw.diskarray.cache.battery.status[batteryState.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CACHE_BATTERY_CRIT_STATUS}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: 2b171d812131480491333180ca7b2d77
                  expression: 'count(/Dell iDRAC by SNMP Enhanced/system.hw.diskarray.cache.battery.status[batteryState.{#SNMPINDEX}],#1,"ne","{$DISK_ARRAY_CACHE_BATTERY_OK_STATUS}")=1'
                  name: 'Battery {#BATTERY_NUM}: Disk array cache controller battery is not in optimal state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the device for faults'
                  dependencies:
                    - name: 'Battery {#BATTERY_NUM}: Disk array cache controller battery is in critical state!'
                      expression: 'count(/Dell iDRAC by SNMP Enhanced/system.hw.diskarray.cache.battery.status[batteryState.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CACHE_BATTERY_CRIT_STATUS}")=1'
                    - name: 'Battery {#BATTERY_NUM}: Disk array cache controller battery is in warning state'
                      expression: 'count(/Dell iDRAC by SNMP Enhanced/system.hw.diskarray.cache.battery.status[batteryState.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CACHE_BATTERY_WARN_STATUS}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
        - uuid: 5eeb03ddec2d4f8894b942103170453d
          name: 'FAN Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.674.10892.5.4.700.12.1.5,{#FAN_DESCR},1.3.6.1.4.1.674.10892.5.4.700.12.1.8,{#TYPE},1.3.6.1.4.1.674.10892.5.4.700.12.1.7]'
          key: fan.discovery
          delay: 1h
          filter:
            conditions:
              - macro: '{#TYPE}'
                value: '3'
                formulaid: A
          description: 'IDRAC-MIB-SMIv2::coolingDeviceTable'
          item_prototypes:
            - uuid: dff60c819da84b9383de59a9bdbe600b
              name: '{#FAN_DESCR}: Fan speed'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.4.700.12.1.6.{#SNMPINDEX}'
              key: 'sensor.fan.speed[coolingDeviceReading.{#SNMPINDEX}]'
              units: rpm
              description: |
                MIB: IDRAC-MIB-SMIv2
                0700.0012.0001.0006 This attribute defines the reading for a cooling device
                of subtype other than coolingDeviceSubTypeIsDiscrete.  When the value
                for coolingDeviceSubType is other than coolingDeviceSubTypeIsDiscrete, the
                value returned for this attribute is the speed in RPM or the OFF/ON value
                of the cooling device.  When the value for coolingDeviceSubType is
                coolingDeviceSubTypeIsDiscrete, a value is not returned for this attribute.
              tags:
                - tag: component
                  value: fan
            - uuid: 41beeaa16046475db72d372597fb0651
              name: '{#FAN_DESCR}: Fan status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.4.700.12.1.5.{#SNMPINDEX}'
              key: 'sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}]'
              delay: 3m
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                0700.0012.0001.0005 This attribute defines the probe status of the cooling device.
              valuemap:
                name: 'IDRAC-MIB-SMIv2::StatusProbeEnum'
              tags:
                - tag: component
                  value: fan
              trigger_prototypes:
                - uuid: 9f10b194f2834a9fadf0d060d31525a3
                  expression: 'count(/Dell iDRAC by SNMP Enhanced/sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}],#1,"eq","{$FAN_CRIT_STATUS:\"criticalUpper\"}")=1 or count(/Dell iDRAC by SNMP Enhanced/sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}],#1,"eq","{$FAN_CRIT_STATUS:\"nonRecoverableUpper\"}")=1 or count(/Dell iDRAC by SNMP Enhanced/sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}],#1,"eq","{$FAN_CRIT_STATUS:\"criticalLower\"}")=1 or count(/Dell iDRAC by SNMP Enhanced/sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}],#1,"eq","{$FAN_CRIT_STATUS:\"nonRecoverableLower\"}")=1 or count(/Dell iDRAC by SNMP Enhanced/sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}],#1,"eq","{$FAN_CRIT_STATUS:\"failed\"}")=1'
                  name: '{#FAN_DESCR}: Fan is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the fan unit'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: 12d9ab8d49624d74b5c6fc3ef90909a7
                  expression: 'count(/Dell iDRAC by SNMP Enhanced/sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}],#1,"eq","{$FAN_WARN_STATUS:\"nonCriticalUpper\"}")=1 or count(/Dell iDRAC by SNMP Enhanced/sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}],#1,"eq","{$FAN_WARN_STATUS:\"nonCriticalLower\"}")=1'
                  name: '{#FAN_DESCR}: Fan is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the fan unit'
                  dependencies:
                    - name: '{#FAN_DESCR}: Fan is in critical state'
                      expression: 'count(/Dell iDRAC by SNMP Enhanced/sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}],#1,"eq","{$FAN_CRIT_STATUS:\"criticalUpper\"}")=1 or count(/Dell iDRAC by SNMP Enhanced/sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}],#1,"eq","{$FAN_CRIT_STATUS:\"nonRecoverableUpper\"}")=1 or count(/Dell iDRAC by SNMP Enhanced/sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}],#1,"eq","{$FAN_CRIT_STATUS:\"criticalLower\"}")=1 or count(/Dell iDRAC by SNMP Enhanced/sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}],#1,"eq","{$FAN_CRIT_STATUS:\"nonRecoverableLower\"}")=1 or count(/Dell iDRAC by SNMP Enhanced/sensor.fan.status[coolingDeviceStatus.{#SNMPINDEX}],#1,"eq","{$FAN_CRIT_STATUS:\"failed\"}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
        - uuid: 6e52346f9aaa46cf84f7e95e75b18a36
          name: 'Array Controller Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.674.10892.5.5.1.20.130.1.1.38,{#CNTLR_NAME},1.3.6.1.4.1.674.10892.5.5.1.20.130.1.1.79]'
          key: physicaldisk.arr.discovery
          delay: 1h
          description: 'IDRAC-MIB-SMIv2::controllerTable'
          item_prototypes:
            - uuid: 59d56ab00a3041d6ac990ac9b721e55b
              name: '{#CNTLR_NAME}: Disk array controller model'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.130.1.1.2.{#SNMPINDEX}'
              key: 'system.hw.diskarray.model[controllerName.{#SNMPINDEX}]'
              delay: 1d
              value_type: CHAR
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                The controller's name as represented in Storage Management.
              tags:
                - tag: component
                  value: array
                - tag: component
                  value: disk
                - tag: component
                  value: storage
            - uuid: 126446f3d85647bba14fa0fd20eea2f4
              name: '{#CNTLR_NAME}: Disk array controller status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.130.1.1.38.{#SNMPINDEX}'
              key: 'system.hw.diskarray.status[controllerComponentStatus.{#SNMPINDEX}]'
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                The status of the controller itself without the propagation of any contained component status.
                Possible values:
                1: Other
                2: Unknown
                3: OK
                4: Non-critical
                5: Critical
                6: Non-recoverable
              valuemap:
                name: 'IDRAC-MIB-SMIv2::ObjectStatusEnum'
              tags:
                - tag: component
                  value: array
                - tag: component
                  value: disk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 64a0a7fe42e74f6282ae6850fd0f2fb3
                  expression: 'count(/Dell iDRAC by SNMP Enhanced/system.hw.diskarray.status[controllerComponentStatus.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CRIT_STATUS:\"critical\"}")=1'
                  name: '{#CNTLR_NAME}: Disk array controller is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Please check the device for faults'
                  dependencies:
                    - name: '{#CNTLR_NAME}: Disk array controller is in unrecoverable state!'
                      expression: 'count(/Dell iDRAC by SNMP Enhanced/system.hw.diskarray.status[controllerComponentStatus.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_FAIL_STATUS:\"nonRecoverable\"}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: 1d7f7be81ea64857a3c060a3f22b0b5c
                  expression: 'count(/Dell iDRAC by SNMP Enhanced/system.hw.diskarray.status[controllerComponentStatus.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_FAIL_STATUS:\"nonRecoverable\"}")=1'
                  name: '{#CNTLR_NAME}: Disk array controller is in unrecoverable state!'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: DISASTER
                  description: 'Please check the device for faults'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: 0cc7abaf124c471e8d7a3f8505855633
                  expression: 'count(/Dell iDRAC by SNMP Enhanced/system.hw.diskarray.status[controllerComponentStatus.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_WARN_STATUS:\"nonCritical\"}")=1'
                  name: '{#CNTLR_NAME}: Disk array controller is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the device for faults'
                  dependencies:
                    - name: '{#CNTLR_NAME}: Disk array controller is in critical state'
                      expression: 'count(/Dell iDRAC by SNMP Enhanced/system.hw.diskarray.status[controllerComponentStatus.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_CRIT_STATUS:\"critical\"}")=1'
                    - name: '{#CNTLR_NAME}: Disk array controller is in unrecoverable state!'
                      expression: 'count(/Dell iDRAC by SNMP Enhanced/system.hw.diskarray.status[controllerComponentStatus.{#SNMPINDEX}],#1,"eq","{$DISK_ARRAY_FAIL_STATUS:\"nonRecoverable\"}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
        - uuid: 5f7f4c8b3fae413d845e845389ce99d7
          name: 'Physical Disk Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.1,{#DISK_NAME},1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.2]'
          key: physicaldisk.discovery
          delay: 1h
          description: 'IDRAC-MIB-SMIv2::physicalDiskTable'
          item_prototypes:
            - uuid: ad32e587541c4e8cae50d2562b2e4454
              name: '{#DISK_NAME}: Physical disk media type'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.35.{#SNMPINDEX}'
              key: 'system.hw.physicaldisk.media_type[physicalDiskMediaType.{#SNMPINDEX}]'
              delay: 1h
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                The media type of the physical disk. Possible Values:
                1: The media type could not be determined.
                2: Hard Disk Drive (HDD).
                3: Solid State Drive (SSD).
              valuemap:
                name: 'IDRAC-MIB-SMIv2::physicalDiskMediaType'
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
            - uuid: 2b589747377e4a8eaf8d038821687e0c
              name: '{#DISK_NAME}: Physical disk model name'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.6.{#SNMPINDEX}'
              key: 'system.hw.physicaldisk.model[physicalDiskProductID.{#SNMPINDEX}]'
              delay: 1h
              value_type: CHAR
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                The model number of the physical disk.
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
            - uuid: 21a6ff9df7a24cb288acdf3d00aff2cb
              name: '{#DISK_NAME}: Physical disk part number'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.27.{#SNMPINDEX}'
              key: 'system.hw.physicaldisk.part_number[physicalDiskPartNumber.{#SNMPINDEX}]'
              delay: 1h
              value_type: CHAR
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                The part number of the disk.
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
            - uuid: 5f35c0a05eb848638ad827b8ce3dbea3
              name: '{#DISK_NAME}: Physical disk serial number'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.7.{#SNMPINDEX}'
              key: 'system.hw.physicaldisk.serialnumber[physicalDiskSerialNo.{#SNMPINDEX}]'
              delay: 1d
              value_type: CHAR
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                The physical disk's unique identification number from the manufacturer.
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 85510de5b7c74770acb7edbedf493d2c
                  expression: 'last(/Dell iDRAC by SNMP Enhanced/system.hw.physicaldisk.serialnumber[physicalDiskSerialNo.{#SNMPINDEX}],#1)<>last(/Dell iDRAC by SNMP Enhanced/system.hw.physicaldisk.serialnumber[physicalDiskSerialNo.{#SNMPINDEX}],#2) and length(last(/Dell iDRAC by SNMP Enhanced/system.hw.physicaldisk.serialnumber[physicalDiskSerialNo.{#SNMPINDEX}]))>0'
                  name: '{#DISK_NAME}: Disk has been replaced'
                  event_name: '{#DISK_NAME}: Disk has been replaced (new serial number received)'
                  priority: INFO
                  description: 'Disk serial number has changed. Acknowledge to close the problem manually.'
                  manual_close: 'YES'
                  tags:
                    - tag: scope
                      value: notice
            - uuid: 953cd564e1f14455a26c27a953b14b88
              name: '{#DISK_NAME}: Disk size'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.11.{#SNMPINDEX}'
              key: 'system.hw.physicaldisk.size[physicalDiskCapacityInMB.{#SNMPINDEX}]'
              delay: 1h
              trends: '0'
              units: B
              description: |
                MIB: IDRAC-MIB-SMIv2
                The size of the physical disk in megabytes.
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '1048576'
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
            - uuid: 4f459120f0704afb984fe11ad351d93c
              name: '{#DISK_NAME}: Physical disk S.M.A.R.T. status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.31.{#SNMPINDEX}'
              key: 'system.hw.physicaldisk.smart_status[physicalDiskSmartAlertIndication.{#SNMPINDEX}]'
              delay: 3m
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                Indicates whether the physical disk has received a predictive failure alert.
              valuemap:
                name: 'IDRAC-MIB-SMIv2::BooleanType'
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 0be78cb529914949aaaa784e7fb04efc
                  expression: 'count(/Dell iDRAC by SNMP Enhanced/system.hw.physicaldisk.smart_status[physicalDiskSmartAlertIndication.{#SNMPINDEX}],#1,"eq","{$DISK_SMART_FAIL_STATUS}")=1'
                  name: '{#DISK_NAME}: Physical disk S.M.A.R.T. failed'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Disk probably requires replacement.'
                  dependencies:
                    - name: '{#DISK_NAME}: Physical disk failed'
                      expression: 'count(/Dell iDRAC by SNMP Enhanced/system.hw.physicaldisk.status[physicalDiskComponentStatus.{#SNMPINDEX}],#1,"eq","{$DISK_FAIL_STATUS:\"critical\"}")=1 or count(/Dell iDRAC by SNMP Enhanced/system.hw.physicaldisk.status[physicalDiskComponentStatus.{#SNMPINDEX}],#1,"eq","{$DISK_FAIL_STATUS:\"nonRecoverable\"}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
            - uuid: edb2997ab2ea446b807f48d2ebcb8f29
              name: '{#DISK_NAME}: Physical disk status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.130.4.1.24.{#SNMPINDEX}'
              key: 'system.hw.physicaldisk.status[physicalDiskComponentStatus.{#SNMPINDEX}]'
              delay: 3m
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                The status of the physical disk itself without the propagation of any contained component status.
                Possible values:
                1: Other
                2: Unknown
                3: OK
                4: Non-critical
                5: Critical
                6: Non-recoverable
              valuemap:
                name: 'IDRAC-MIB-SMIv2::physicalDiskComponentStatus'
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: d50edbba03ae48aca370a08ec4d5ee74
                  expression: 'count(/Dell iDRAC by SNMP Enhanced/system.hw.physicaldisk.status[physicalDiskComponentStatus.{#SNMPINDEX}],#1,"eq","{$DISK_FAIL_STATUS:\"critical\"}")=1 or count(/Dell iDRAC by SNMP Enhanced/system.hw.physicaldisk.status[physicalDiskComponentStatus.{#SNMPINDEX}],#1,"eq","{$DISK_FAIL_STATUS:\"nonRecoverable\"}")=1'
                  name: '{#DISK_NAME}: Physical disk failed'
                  opdata: 'Current status: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Please check physical disk for warnings or errors'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: 105f31eba7b64738b50237abf27076e7
                  expression: 'count(/Dell iDRAC by SNMP Enhanced/system.hw.physicaldisk.status[physicalDiskComponentStatus.{#SNMPINDEX}],#1,"eq","{$DISK_WARN_STATUS:\"nonCritical\"}")=1'
                  name: '{#DISK_NAME}: Physical disk is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check physical disk for warnings or errors'
                  dependencies:
                    - name: '{#DISK_NAME}: Physical disk failed'
                      expression: 'count(/Dell iDRAC by SNMP Enhanced/system.hw.physicaldisk.status[physicalDiskComponentStatus.{#SNMPINDEX}],#1,"eq","{$DISK_FAIL_STATUS:\"critical\"}")=1 or count(/Dell iDRAC by SNMP Enhanced/system.hw.physicaldisk.status[physicalDiskComponentStatus.{#SNMPINDEX}],#1,"eq","{$DISK_FAIL_STATUS:\"nonRecoverable\"}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
        - uuid: 59dbdc3c55c34c79b5dd29552673bd5c
          name: 'PSU Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.674.10892.5.4.600.12.1.5,{#PSU_DESCR},1.3.6.1.4.1.674.10892.5.4.600.12.1.8]'
          key: psu.discovery
          delay: 1h
          description: 'IDRAC-MIB-SMIv2::powerSupplyTable'
          item_prototypes:
            - uuid: 77dce74e2b7e40ef916dbb4e99cd7eb2
              name: '{#PSU_DESCR}: Power supply status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.4.600.12.1.5.{#SNMPINDEX}'
              key: 'sensor.psu.status[powerSupplyStatus.{#SNMPINDEX}]'
              delay: 3m
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                0600.0012.0001.0005 This attribute defines the status of the power supply.
              valuemap:
                name: 'IDRAC-MIB-SMIv2::ObjectStatusEnum'
              tags:
                - tag: component
                  value: power
              trigger_prototypes:
                - uuid: 03138ba7de7b492db4b02970400b29c3
                  expression: 'count(/Dell iDRAC by SNMP Enhanced/sensor.psu.status[powerSupplyStatus.{#SNMPINDEX}],#1,"eq","{$PSU_CRIT_STATUS:\"critical\"}")=1 or count(/Dell iDRAC by SNMP Enhanced/sensor.psu.status[powerSupplyStatus.{#SNMPINDEX}],#1,"eq","{$PSU_CRIT_STATUS:\"nonRecoverable\"}")=1'
                  name: '{#PSU_DESCR}: Power supply is in critical state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check the power supply unit for errors'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: 9cc455ca32b44c25aa02800c8db7d972
                  expression: 'count(/Dell iDRAC by SNMP Enhanced/sensor.psu.status[powerSupplyStatus.{#SNMPINDEX}],#1,"eq","{$PSU_WARN_STATUS:\"nonCritical\"}")=1'
                  name: '{#PSU_DESCR}: Power supply is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: WARNING
                  description: 'Please check the power supply unit for errors'
                  dependencies:
                    - name: '{#PSU_DESCR}: Power supply is in critical state'
                      expression: 'count(/Dell iDRAC by SNMP Enhanced/sensor.psu.status[powerSupplyStatus.{#SNMPINDEX}],#1,"eq","{$PSU_CRIT_STATUS:\"critical\"}")=1 or count(/Dell iDRAC by SNMP Enhanced/sensor.psu.status[powerSupplyStatus.{#SNMPINDEX}],#1,"eq","{$PSU_CRIT_STATUS:\"nonRecoverable\"}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
        - uuid: 4206a24b1ccc453bb5316c2fcb8b80ae
          name: 'Temperature Ambient Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.674.10892.5.4.700.20.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.674.10892.5.4.700.20.1.8]'
          key: temp.ambient.discovery
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: '.*Inlet Temp.*'
                formulaid: A
          description: 'Scanning table of Temperature Probe Table IDRAC-MIB-SMIv2::temperatureProbeTable'
          item_prototypes:
            - uuid: a5a417222b5b4f2993f7cf72824c2e7e
              name: '{#SENSOR_LOCALE}: Temperature status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.4.700.20.1.5.{#SNMPINDEX}'
              key: 'sensor.temp.status[temperatureProbeStatus.Ambient.{#SNMPINDEX}]'
              delay: 3m
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                0700.0020.0001.0005 This attribute defines the probe status of the temperature probe.
              valuemap:
                name: 'IDRAC-MIB-SMIv2::StatusProbeEnum'
              tags:
                - tag: component
                  value: temperature
            - uuid: ee7ac3a76da84a56b87fe4d2897117b9
              name: '{#SENSOR_LOCALE}: Temperature'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.4.700.20.1.6.{#SNMPINDEX}'
              key: 'sensor.temp.value[temperatureProbeReading.Ambient.{#SNMPINDEX}]'
              delay: 3m
              value_type: FLOAT
              units: °C
              description: |
                MIB: IDRAC-MIB-SMIv2
                0700.0020.0001.0006 This attribute defines the reading for a temperature probe of type other than temperatureProbeTypeIsDiscrete.  When the value for temperatureProbeType is other than temperatureProbeTypeIsDiscrete,the value returned for this attribute is the temperature that the probeis reading in tenths of degrees Centigrade. When the value for temperatureProbeType is temperatureProbeTypeIsDiscrete, a value is not returned for this attribute.
              valuemap:
                name: 'IDRAC-MIB-SMIv2::StatusProbeEnum'
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.1'
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: 4f3236f2814c4245bff394f007eec847
                  expression: 'avg(/Dell iDRAC by SNMP Enhanced/sensor.temp.value[temperatureProbeReading.Ambient.{#SNMPINDEX}],5m)<{$TEMP_CRIT_LOW:"Ambient"}'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'min(/Dell iDRAC by SNMP Enhanced/sensor.temp.value[temperatureProbeReading.Ambient.{#SNMPINDEX}],5m)>{$TEMP_CRIT_LOW:"Ambient"}+3'
                  name: '{#SENSOR_LOCALE}: Temperature is too low'
                  event_name: '{#SENSOR_LOCALE}: Temperature is too low: <{$TEMP_CRIT_LOW:"Ambient"}'
                  opdata: 'Current value: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
          trigger_prototypes:
            - uuid: ebbb032b5ddb413791df4ad7e97d52e6
              expression: |
                avg(/Dell iDRAC by SNMP Enhanced/sensor.temp.value[temperatureProbeReading.Ambient.{#SNMPINDEX}],5m)>{$TEMP_CRIT:"Ambient"}
                or
                last(/Dell iDRAC by SNMP Enhanced/sensor.temp.status[temperatureProbeStatus.Ambient.{#SNMPINDEX}])={$TEMP_CRIT_STATUS}
                or
                last(/Dell iDRAC by SNMP Enhanced/sensor.temp.status[temperatureProbeStatus.Ambient.{#SNMPINDEX}])={$TEMP_DISASTER_STATUS}
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'max(/Dell iDRAC by SNMP Enhanced/sensor.temp.value[temperatureProbeReading.Ambient.{#SNMPINDEX}],5m)<{$TEMP_CRIT:"Ambient"}-3'
              name: '{#SENSOR_LOCALE}: Temperature is above critical threshold'
              event_name: '{#SENSOR_LOCALE}: Temperature is above critical threshold: >{$TEMP_CRIT:"Ambient"}'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              description: 'This trigger uses temperature sensor values as well as temperature sensor status if available'
              tags:
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
            - uuid: 9be6052ac9da4e3fb7133a591958a78c
              expression: |
                avg(/Dell iDRAC by SNMP Enhanced/sensor.temp.value[temperatureProbeReading.Ambient.{#SNMPINDEX}],5m)>{$TEMP_WARN:"Ambient"}
                or
                last(/Dell iDRAC by SNMP Enhanced/sensor.temp.status[temperatureProbeStatus.Ambient.{#SNMPINDEX}])={$TEMP_WARN_STATUS}
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'max(/Dell iDRAC by SNMP Enhanced/sensor.temp.value[temperatureProbeReading.Ambient.{#SNMPINDEX}],5m)<{$TEMP_WARN:"Ambient"}-3'
              name: '{#SENSOR_LOCALE}: Temperature is above warning threshold'
              event_name: '{#SENSOR_LOCALE}: Temperature is above warning threshold: >{$TEMP_WARN:"Ambient"}'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'This trigger uses temperature sensor values as well as temperature sensor status if available'
              dependencies:
                - name: '{#SENSOR_LOCALE}: Temperature is above critical threshold'
                  expression: |
                    avg(/Dell iDRAC by SNMP Enhanced/sensor.temp.value[temperatureProbeReading.Ambient.{#SNMPINDEX}],5m)>{$TEMP_CRIT:"Ambient"}
                    or
                    last(/Dell iDRAC by SNMP Enhanced/sensor.temp.status[temperatureProbeStatus.Ambient.{#SNMPINDEX}])={$TEMP_CRIT_STATUS}
                    or
                    last(/Dell iDRAC by SNMP Enhanced/sensor.temp.status[temperatureProbeStatus.Ambient.{#SNMPINDEX}])={$TEMP_DISASTER_STATUS}
                  recovery_expression: 'max(/Dell iDRAC by SNMP Enhanced/sensor.temp.value[temperatureProbeReading.Ambient.{#SNMPINDEX}],5m)<{$TEMP_CRIT:"Ambient"}-3'
              tags:
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
        - uuid: 3658d11f7d1940af87cbe8439415daec
          name: 'Temperature CPU Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.674.10892.5.4.700.20.1.1,{#SENSOR_LOCALE},1.3.6.1.4.1.674.10892.5.4.700.20.1.8]'
          key: temp.cpu.discovery
          delay: 1h
          filter:
            conditions:
              - macro: '{#SENSOR_LOCALE}'
                value: '.*CPU.*'
                formulaid: A
          description: 'Scanning table of Temperature Probe Table IDRAC-MIB-SMIv2::temperatureProbeTable'
          item_prototypes:
            - uuid: aef266d375184485b11a1a3a0d329bec
              name: '{#SENSOR_LOCALE}: Temperature status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.4.700.20.1.5.{#SNMPINDEX}'
              key: 'sensor.temp.status[temperatureProbeStatus.CPU.{#SNMPINDEX}]'
              delay: 3m
              trends: '0'
              description: |
                MIB: IDRAC-MIB-SMIv2
                0700.0020.0001.0005 This attribute defines the probe status of the temperature probe.
              valuemap:
                name: 'IDRAC-MIB-SMIv2::StatusProbeEnum'
              tags:
                - tag: component
                  value: temperature
            - uuid: f0bf9415f8784a55b50d18e554792528
              name: '{#SENSOR_LOCALE}: Temperature'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.4.700.20.1.6.{#SNMPINDEX}'
              key: 'sensor.temp.value[temperatureProbeReading.CPU.{#SNMPINDEX}]'
              delay: 3m
              value_type: FLOAT
              units: °C
              description: |
                MIB: IDRAC-MIB-SMIv2
                0700.0020.0001.0006 This attribute defines the reading for a temperature probe of type other than temperatureProbeTypeIsDiscrete.  When the value for temperatureProbeType is other than temperatureProbeTypeIsDiscrete,the value returned for this attribute is the temperature that the probeis reading in tenths of degrees Centigrade. When the value for temperatureProbeType is temperatureProbeTypeIsDiscrete, a value is not returned for this attribute.
              valuemap:
                name: 'IDRAC-MIB-SMIv2::StatusProbeEnum'
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '0.1'
              tags:
                - tag: component
                  value: temperature
              trigger_prototypes:
                - uuid: 11fbc3c1daab4b96b69638c7b8bb3c11
                  expression: 'avg(/Dell iDRAC by SNMP Enhanced/sensor.temp.value[temperatureProbeReading.CPU.{#SNMPINDEX}],5m)<{$TEMP_CRIT_LOW:"CPU"}'
                  recovery_mode: RECOVERY_EXPRESSION
                  recovery_expression: 'min(/Dell iDRAC by SNMP Enhanced/sensor.temp.value[temperatureProbeReading.CPU.{#SNMPINDEX}],5m)>{$TEMP_CRIT_LOW:"CPU"}+3'
                  name: '{#SENSOR_LOCALE}: Temperature is too low'
                  event_name: '{#SENSOR_LOCALE}: Temperature is too low: <{$TEMP_CRIT_LOW:"CPU"}'
                  opdata: 'Current value: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
          trigger_prototypes:
            - uuid: f96b8847548948c0b70d130987bdb6d5
              expression: |
                avg(/Dell iDRAC by SNMP Enhanced/sensor.temp.value[temperatureProbeReading.CPU.{#SNMPINDEX}],5m)>{$TEMP_CRIT:"CPU"}
                or
                last(/Dell iDRAC by SNMP Enhanced/sensor.temp.status[temperatureProbeStatus.CPU.{#SNMPINDEX}])={$TEMP_CRIT_STATUS}
                or
                last(/Dell iDRAC by SNMP Enhanced/sensor.temp.status[temperatureProbeStatus.CPU.{#SNMPINDEX}])={$TEMP_DISASTER_STATUS}
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'max(/Dell iDRAC by SNMP Enhanced/sensor.temp.value[temperatureProbeReading.CPU.{#SNMPINDEX}],5m)<{$TEMP_CRIT:"CPU"}-3'
              name: '{#SENSOR_LOCALE}: Temperature is above critical threshold'
              event_name: '{#SENSOR_LOCALE}: Temperature is above critical threshold: >{$TEMP_CRIT:"CPU"}'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: HIGH
              description: 'This trigger uses temperature sensor values as well as temperature sensor status if available'
              tags:
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
            - uuid: 445a1d1c1af746c28cafa00a77156feb
              expression: |
                avg(/Dell iDRAC by SNMP Enhanced/sensor.temp.value[temperatureProbeReading.CPU.{#SNMPINDEX}],5m)>{$TEMP_WARN:"CPU"}
                or
                last(/Dell iDRAC by SNMP Enhanced/sensor.temp.status[temperatureProbeStatus.CPU.{#SNMPINDEX}])={$TEMP_WARN_STATUS}
              recovery_mode: RECOVERY_EXPRESSION
              recovery_expression: 'max(/Dell iDRAC by SNMP Enhanced/sensor.temp.value[temperatureProbeReading.CPU.{#SNMPINDEX}],5m)<{$TEMP_WARN:"CPU"}-3'
              name: '{#SENSOR_LOCALE}: Temperature is above warning threshold'
              event_name: '{#SENSOR_LOCALE}: Temperature is above warning threshold: >{$TEMP_WARN:"CPU"}'
              opdata: 'Current value: {ITEM.LASTVALUE1}'
              priority: WARNING
              description: 'This trigger uses temperature sensor values as well as temperature sensor status if available'
              dependencies:
                - name: '{#SENSOR_LOCALE}: Temperature is above critical threshold'
                  expression: |
                    avg(/Dell iDRAC by SNMP Enhanced/sensor.temp.value[temperatureProbeReading.CPU.{#SNMPINDEX}],5m)>{$TEMP_CRIT:"CPU"}
                    or
                    last(/Dell iDRAC by SNMP Enhanced/sensor.temp.status[temperatureProbeStatus.CPU.{#SNMPINDEX}])={$TEMP_CRIT_STATUS}
                    or
                    last(/Dell iDRAC by SNMP Enhanced/sensor.temp.status[temperatureProbeStatus.CPU.{#SNMPINDEX}])={$TEMP_DISASTER_STATUS}
                  recovery_expression: 'max(/Dell iDRAC by SNMP Enhanced/sensor.temp.value[temperatureProbeReading.CPU.{#SNMPINDEX}],5m)<{$TEMP_CRIT:"CPU"}-3'
              tags:
                - tag: scope
                  value: availability
                - tag: scope
                  value: performance
        - uuid: 07ac74ea81aa4a1d99ccd5cee065130a
          name: 'Virtual Disk Discovery'
          type: SNMP_AGENT
          snmp_oid: 'discovery[{#SNMPVALUE},1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.1,{#DISK_NAME},1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.2]'
          key: virtualdisk.discovery
          delay: 1h
          description: 'IDRAC-MIB-SMIv2::virtualDiskTable'
          item_prototypes:
            - uuid: b46bf4c2878e4a999ef705cb2fd0ffd0
              name: 'Disk {#SNMPVALUE}({#DISK_NAME}): Layout type'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.13.{#SNMPINDEX}'
              key: 'system.hw.virtualdisk.layout[virtualDiskLayout.{#SNMPINDEX}]'
              delay: 1h
              description: |
                MIB: IDRAC-MIB-SMIv2
                The virtual disk's RAID type.
                Possible values:
                1: Not one of the following
                2: RAID-0
                3: RAID-1
                4: RAID-5
                5: RAID-6
                6: RAID-10
                7: RAID-50
                8: RAID-60
                9: Concatenated RAID 1
                10: Concatenated RAID 5
              valuemap:
                name: 'IDRAC-MIB-SMIv2::virtualDiskLayout'
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
            - uuid: cbc5c46039ed4d0c8b0e8cb056022dfa
              name: 'Disk {#SNMPVALUE}({#DISK_NAME}): Read policy'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.11.{#SNMPINDEX}'
              key: 'system.hw.virtualdisk.readpolicy[virtualDiskReadPolicy.{#SNMPINDEX}]'
              delay: 1h
              description: |
                MIB: IDRAC-MIB-SMIv2
                The read policy used by the controller for read operations on this virtual disk.
                Possible values:
                1: No Read Ahead.
                2: Read Ahead.
                3: Adaptive Read Ahead.
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
            - uuid: df608b0b614e477fbe92d22cc793848f
              name: 'Disk {#SNMPVALUE}({#DISK_NAME}): Disk size'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.6.{#SNMPINDEX}'
              key: 'system.hw.virtualdisk.size[virtualDiskSizeInMB.{#SNMPINDEX}]'
              delay: 1h
              trends: '0'
              units: B
              description: |
                MIB: IDRAC-MIB-SMIv2
                The size of the virtual disk in megabytes.
              preprocessing:
                - type: MULTIPLIER
                  parameters:
                    - '1048576'
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
            - uuid: 09dcdd97085941dd82686d0a64ed6fd3
              name: 'Disk {#SNMPVALUE}({#DISK_NAME}): Current state'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.30.{#SNMPINDEX}'
              key: 'system.hw.virtualdisk.state[virtualDiskOperationalState.{#SNMPINDEX}]'
              delay: 3m
              description: |
                MIB: IDRAC-MIB-SMIv2
                The state of the virtual disk when there are progressive operations ongoing.
                Possible values:
                1: There is no active operation running.
                2: The virtual disk configuration has changed. The physical disks included in the virtual disk are being modified to support the new configuration.
                3: A Consistency Check (CC) is being performed on the virtual disk.
                4: The virtual disk is being initialized.
                5: BackGround Initialization (BGI) is being performed on the virtual disk.
              valuemap:
                name: 'IDRAC-MIB-SMIv2::virtualDiskOperationalState'
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
            - uuid: e5755dc5e2564c4cab55c1ff90ebf9af
              name: 'Disk {#SNMPVALUE}({#DISK_NAME}): Status'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.4.{#SNMPINDEX}'
              key: 'system.hw.virtualdisk.status[virtualDiskState.{#SNMPINDEX}]'
              delay: 3m
              description: |
                MIB: IDRAC-MIB-SMIv2
                The current state of this virtual disk (which includes any member physical disks.)
                Possible states:
                1: The current state could not be determined.
                2: The virtual disk is operating normally or optimally.
                3: The virtual disk has encountered a failure. The data on disk is lost or is about to be lost.
                4: The virtual disk encountered a failure with one or all of the constituent redundant physical disks.
                The data on the virtual disk might no longer be fault tolerant.
              valuemap:
                name: 'IDRAC-MIB-SMIv2::virtualDiskState'
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
              trigger_prototypes:
                - uuid: 29e27f2ec131482c9dc3b4cf9844576d
                  expression: 'count(/Dell iDRAC by SNMP Enhanced/system.hw.virtualdisk.status[virtualDiskState.{#SNMPINDEX}],#1,"eq","{$VDISK_CRIT_STATUS:\"failed\"}")=1'
                  name: 'Disk {#SNMPVALUE}({#DISK_NAME}): Virtual disk failed'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: HIGH
                  description: 'Please check virtual disk for warnings or errors'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
                - uuid: 796d2c8e2c0f4fecb82e486f6bf0466a
                  expression: 'count(/Dell iDRAC by SNMP Enhanced/system.hw.virtualdisk.status[virtualDiskState.{#SNMPINDEX}],#1,"eq","{$VDISK_WARN_STATUS:\"degraded\"}")=1'
                  name: 'Disk {#SNMPVALUE}({#DISK_NAME}): Virtual disk is in warning state'
                  opdata: 'Current state: {ITEM.LASTVALUE1}'
                  priority: AVERAGE
                  description: 'Please check virtual disk for warnings or errors'
                  dependencies:
                    - name: 'Disk {#SNMPVALUE}({#DISK_NAME}): Virtual disk failed'
                      expression: 'count(/Dell iDRAC by SNMP Enhanced/system.hw.virtualdisk.status[virtualDiskState.{#SNMPINDEX}],#1,"eq","{$VDISK_CRIT_STATUS:\"failed\"}")=1'
                  tags:
                    - tag: scope
                      value: availability
                    - tag: scope
                      value: performance
            - uuid: b254ce68554f49e5b5f4ad6c28d103d1
              name: 'Disk {#SNMPVALUE}({#DISK_NAME}): Write policy'
              type: SNMP_AGENT
              snmp_oid: '1.3.6.1.4.1.674.10892.5.5.1.20.140.1.1.10.{#SNMPINDEX}'
              key: 'system.hw.virtualdisk.writepolicy[virtualDiskWritePolicy.{#SNMPINDEX}]'
              delay: 1h
              description: |
                MIB: IDRAC-MIB-SMIv2
                The write policy used by the controller for write operations on this virtual disk.
                Possible values:
                1: Write Through.
                2: Write Back.
                3: Force Write Back.
              valuemap:
                name: 'IDRAC-MIB-SMIv2::virtualDiskWritePolicy'
              tags:
                - tag: component
                  value: disk
                - tag: component
                  value: storage
      tags:
        - tag: class
          value: hardware
        - tag: target
          value: dell
        - tag: target
          value: idrac
      macros:
        - macro: '{$DISK_ARRAY_CACHE_BATTERY_CRIT_STATUS}'
          value: '3'
        - macro: '{$DISK_ARRAY_CACHE_BATTERY_OK_STATUS}'
          value: '2'
        - macro: '{$DISK_ARRAY_CACHE_BATTERY_WARN_STATUS}'
          value: '4'
        - macro: '{$DISK_ARRAY_CRIT_STATUS:"critical"}'
          value: '5'
        - macro: '{$DISK_ARRAY_FAIL_STATUS:"nonRecoverable"}'
          value: '6'
        - macro: '{$DISK_ARRAY_WARN_STATUS:"nonCritical"}'
          value: '4'
        - macro: '{$DISK_FAIL_STATUS:"critical"}'
          value: '5'
        - macro: '{$DISK_FAIL_STATUS:"nonRecoverable"}'
          value: '6'
        - macro: '{$DISK_SMART_FAIL_STATUS}'
          value: '1'
        - macro: '{$DISK_WARN_STATUS:"nonCritical"}'
          value: '4'
        - macro: '{$FAN_CRIT_STATUS:"criticalLower"}'
          value: '8'
        - macro: '{$FAN_CRIT_STATUS:"criticalUpper"}'
          value: '5'
        - macro: '{$FAN_CRIT_STATUS:"failed"}'
          value: '10'
        - macro: '{$FAN_CRIT_STATUS:"nonRecoverableLower"}'
          value: '9'
        - macro: '{$FAN_CRIT_STATUS:"nonRecoverableUpper"}'
          value: '6'
        - macro: '{$FAN_WARN_STATUS:"nonCriticalLower"}'
          value: '7'
        - macro: '{$FAN_WARN_STATUS:"nonCriticalUpper"}'
          value: '4'
        - macro: '{$HEALTH_CRIT_STATUS}'
          value: '5'
        - macro: '{$HEALTH_DISASTER_STATUS}'
          value: '6'
        - macro: '{$HEALTH_WARN_STATUS}'
          value: '4'
        - macro: '{$ICMP_LOSS_WARN}'
          value: '20'
          description: 'Warning threshold of ICMP packet loss in %.'
        - macro: '{$ICMP_RESPONSE_TIME_WARN}'
          value: '0.15'
          description: 'Warning threshold of the average ICMP response time in seconds.'
        - macro: '{$PSU_CRIT_STATUS:"critical"}'
          value: '5'
        - macro: '{$PSU_CRIT_STATUS:"nonRecoverable"}'
          value: '6'
        - macro: '{$PSU_WARN_STATUS:"nonCritical"}'
          value: '4'
        - macro: '{$SNMP.TIMEOUT}'
          value: 5m
          description: 'Time interval for the SNMP availability trigger.'
        - macro: '{$TEMP_CRIT}'
          value: '60'
        - macro: '{$TEMP_CRIT:"Ambient"}'
          value: '35'
        - macro: '{$TEMP_CRIT:"CPU"}'
          value: '75'
        - macro: '{$TEMP_CRIT_LOW}'
          value: '5'
        - macro: '{$TEMP_CRIT_STATUS}'
          value: '5'
        - macro: '{$TEMP_DISASTER_STATUS}'
          value: '6'
        - macro: '{$TEMP_WARN}'
          value: '50'
        - macro: '{$TEMP_WARN:"Ambient"}'
          value: '30'
        - macro: '{$TEMP_WARN:"CPU"}'
          value: '70'
        - macro: '{$TEMP_WARN_STATUS}'
          value: '4'
        - macro: '{$VDISK_CRIT_STATUS:"failed"}'
          value: '3'
        - macro: '{$VDISK_WARN_STATUS:"degraded"}'
          value: '4'
      valuemaps:
        - uuid: 1fb9464266054dd39d65ce83f1a2ee8f
          name: 'IDRAC-MIB-SMIv2::batteryState'
          mappings:
            - value: '1'
              newvalue: Unknown
            - value: '2'
              newvalue: Ready
            - value: '3'
              newvalue: Failed
            - value: '4'
              newvalue: Degraded
            - value: '5'
              newvalue: Missing
            - value: '6'
              newvalue: Charging
            - value: '7'
              newvalue: 'Below threshold'
        - uuid: 9fa5f62f35b7438ea88963484e77e7c1
          name: 'IDRAC-MIB-SMIv2::BooleanType'
          mappings:
            - value: '0'
              newvalue: ok
            - value: '1'
              newvalue: failed
        - uuid: 811df6087dbf408db77d14ba6a13001d
          name: 'IDRAC-MIB-SMIv2::ObjectStatusEnum'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: unknown
            - value: '3'
              newvalue: ok
            - value: '4'
              newvalue: nonCritical
            - value: '5'
              newvalue: critical
            - value: '6'
              newvalue: nonRecoverable
        - uuid: 6a628b6ce1304c2b9cac02a3989832df
          name: 'IDRAC-MIB-SMIv2::physicalDiskComponentStatus'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: unknown
            - value: '3'
              newvalue: ok
            - value: '4'
              newvalue: nonCritical
            - value: '5'
              newvalue: critical
            - value: '6'
              newvalue: nonRecoverable
        - uuid: 20c88ff93b4c4b5c94da9448abdd687e
          name: 'IDRAC-MIB-SMIv2::physicalDiskMediaType'
          mappings:
            - value: '1'
              newvalue: Unknown
            - value: '2'
              newvalue: HDD
            - value: '3'
              newvalue: SSD
        - uuid: 4ccb263c874a48a7ae99c9ecc5093c10
          name: 'IDRAC-MIB-SMIv2::StatusProbeEnum'
          mappings:
            - value: '1'
              newvalue: other
            - value: '2'
              newvalue: unknown
            - value: '3'
              newvalue: ok
            - value: '4'
              newvalue: nonCriticalUpper
            - value: '5'
              newvalue: criticalUpper
            - value: '6'
              newvalue: nonRecoverableUpper
            - value: '7'
              newvalue: nonCriticalLower
            - value: '8'
              newvalue: criticalLower
            - value: '9'
              newvalue: nonRecoverableLower
            - value: '10'
              newvalue: failed
        - uuid: 07ee791a7ca140cc8b8b70d7d9588bd7
          name: 'IDRAC-MIB-SMIv2::virtualDiskLayout'
          mappings:
            - value: '1'
              newvalue: Other
            - value: '2'
              newvalue: RAID-0
            - value: '3'
              newvalue: RAID-1
            - value: '4'
              newvalue: RAID-5
            - value: '5'
              newvalue: RAID-6
            - value: '6'
              newvalue: RAID-10
            - value: '7'
              newvalue: RAID-50
            - value: '8'
              newvalue: RAID-60
            - value: '9'
              newvalue: 'Concatenated RAID 1'
            - value: '10'
              newvalue: 'Concatenated RAID 5'
        - uuid: bfb16cc203854d4eb0b3c19c2495dca3
          name: 'IDRAC-MIB-SMIv2::virtualDiskOperationalState'
          mappings:
            - value: '1'
              newvalue: 'Not applicable'
            - value: '2'
              newvalue: Reconstructing
            - value: '3'
              newvalue: Resynching
            - value: '4'
              newvalue: Initializing
            - value: '5'
              newvalue: 'Background init'
        - uuid: d7bbc18035b041d79632b3cd3ab7b000
          name: 'IDRAC-MIB-SMIv2::virtualDiskState'
          mappings:
            - value: '1'
              newvalue: Unknown
            - value: '2'
              newvalue: Online
            - value: '3'
              newvalue: Failed
            - value: '4'
              newvalue: Degraded
        - uuid: 3e5a3e10ca1c4b26a6a6aa828e1048e1
          name: 'IDRAC-MIB-SMIv2::virtualDiskWritePolicy'
          mappings:
            - value: '1'
              newvalue: 'Write Through'
            - value: '2'
              newvalue: 'Write Back'
            - value: '3'
              newvalue: 'Force Write Back'
        - uuid: 5c67303beae94c80b7bdaedc075dcae9
          name: 'Service state'
          mappings:
            - value: '0'
              newvalue: Down
            - value: '1'
              newvalue: Up
        - uuid: b5a69d20cdfb4010b54c9ac5a18d7d53
          name: zabbix.host.available
          mappings:
            - value: '0'
              newvalue: 'not available'
            - value: '1'
              newvalue: available
            - value: '2'
              newvalue: unknown
  triggers:
    - uuid: 271dbce160c54c34a5180dbbc98c3d17
      expression: '(last(/Dell iDRAC by SNMP Enhanced/system.hw.uptime[hrSystemUptime.0])>0 and last(/Dell iDRAC by SNMP Enhanced/system.hw.uptime[hrSystemUptime.0])<10m) or (last(/Dell iDRAC by SNMP Enhanced/system.hw.uptime[hrSystemUptime.0])=0 and last(/Dell iDRAC by SNMP Enhanced/system.net.uptime[sysUpTime.0])<10m)'
      name: 'Host has been restarted'
      event_name: '{HOST.NAME} has been restarted (uptime < 10m)'
      priority: WARNING
      description: 'Uptime is less than 10 minutes.'
      manual_close: 'YES'
      dependencies:
        - name: 'No SNMP data collection'
          expression: 'max(/Dell iDRAC by SNMP Enhanced/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0'
      tags:
        - tag: scope
          value: notice
